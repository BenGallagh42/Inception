; PHP-FPM pool configuration for WordPress
; This file defines how PHP-FPM handles requests

[www]
; User and group that PHP-FPM runs as
user = www-data
group = www-data

; Listen on port 9000 (all network interfaces)
; NGINX will connect to this port
listen = 0.0.0.0:9000

; Process manager configuration
; Dynamic: spawn processes as needed
pm = dynamic

; Maximum number of child processes
pm.max_children = 50

; Number of processes created on startup
pm.start_servers = 5

; Minimum number of idle processes
pm.min_spare_servers = 5

; Maximum number of idle processes
pm.max_spare_servers = 35

; Maximum number of requests per child before respawn
; Prevents memory leaks
pm.max_requests = 500

; Clear environment variables (security)
clear_env = no

; Catch worker output (for debugging)
catch_workers_output = yes

; Access log format
access.log = /dev/stdout
access.format = "%R - %u %t \"%m %r%Q%q\" %s %f %{mili}d %{kilo}M %C%%"

; Error log
php_admin_value[error_log] = /dev/stderr
php_admin_flag[log_errors] = on
